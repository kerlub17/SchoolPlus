<!-- @author Daniel Moucha -->
<!-- Benutzeroberfläche zum erstellen von neuen Tasks-->
<div fxLayoutAlign="center center">
  <mat-card fxFlex="40" >
    <form fxLayoutAlign="stretch" fxLayout="column" class="newtask-form" #newTaskForm="ngForm" (ngSubmit)="onNewTask(newTaskForm.value, newTaskForm)">
      <div class="col-md-6">
      <mat-toolbar color="primary">Aufgabe erstellen</mat-toolbar>
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input matInput type="text" ngModel name="name" placeholder="NVS-Cheatsheet" required>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Fach</mat-label>
        <input matInput type="text" ngModel name="fach" placeholder="NVS" required>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Abgabedatum auswählen</mat-label>
        <input matInput [matDatepicker]="picker" ngModel name="datum" placeholder="Datum" required>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker  #picker disabled="false"></mat-datepicker>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Art</mat-label>
        <mat-select [(ngModel)]="selectedArt" name="art" placeholder="Art" required>
          <mat-option *ngFor="let art of arts" [value]="art.value">
            {{art.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      </div>
      <div class="col-md-6">
      <mat-form-field appearance="fill">
        <mat-label>Erledigt</mat-label>
        <mat-select [(ngModel)]="selectedDone" name="done" placeholder="Done" required>
          <mat-option *ngFor="let doneOption of done" [value]="doneOption.value">
            {{doneOption.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Note</mat-label>
        <mat-select [(ngModel)]="selectedNote" name="note" placeholder="Note" required>
          <mat-option *ngFor="let noteOption of note" [value]="noteOption.value">
            {{noteOption.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Zeit(min)</mat-label>
        <input matInput type="text" ngModel name="zeit" placeholder="60" required>
      </mat-form-field>

      <button *ngIf="newTaskForm.valid else buttonDisabled " color="primary" mat-raised-button type="submit">Erstellen</button>
      <ng-template #buttonDisabled><button disabled color="primary" mat-raised-button type="submit" >Erstellen</button></ng-template>

      <button color="accent" mat-raised-button type="reset">Reset</button>

        <button color="warn" mat-raised-button type="submit" (click)="onCancel()">Abbrechen</button>
      </div>
    </form>
  </mat-card>
</div>
